# Intent

The intent of this experiment is to test the resilience of your application in the event of a PostgreSQL database outage. By simulating an unavailable database, we want to ensure that your system can handle the outage gracefully and indicate unavailability appropriately. Specifically, we want to ensure that at least one monitor in Datadog is alerting us to the outage.
Testing for a database outage is crucial in ensuring the reliability and availability of your system. By conducting this experiment, you can identify any potential weaknesses in your system and take appropriate measures to address them.

# Motivation

Database outages can occur due to various reasons, including hardware failures, software bugs, network connectivity issues, or even intentional attacks. Such outages can have severe consequences for your application, such as lost revenue, dissatisfied customers, and reputational damage. By testing your application's resilience to a database outage, you can identify areas for improvement and implement measures to minimize the impact of such outages on your system.

# Structure

To conduct this experiment, we will ensure that all pods are ready, and the load-balanced user-facing endpoint is fully functional. We will then simulate an unavailable PostgreSQL database by blackholing the PostgreSQL database client connection using port 5432.
During the outage, we will monitor the system and ensure that the user-facing endpoint indicates unavailability by responding with a "Service unavailable" status. We will also verify that at least one monitor in Datadog is alerting us to the database outage.
Once the database becomes available again, we will verify that the endpoint automatically recovers and resumes its normal operation. We will also analyze the monitoring data to identify any potential weaknesses in the system and take appropriate measures to address them.
By conducting this experiment, we can identify any weaknesses in our system's resilience to database outages and take appropriate measures to minimize their impact.